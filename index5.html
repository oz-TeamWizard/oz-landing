<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>mealStack - ë§ì¶¤í˜• ë‹¨ë°±ì§ˆ ê³„ì‚°ê¸°</title>
    <meta
      name="description"
      content="ë‹¹ì‹ ì˜ ì²´í˜• ëª©í‘œì— ë§ëŠ” ì™„ë²½í•œ ë‹¨ë°±ì§ˆ ì„­ì·¨ëŸ‰ê³¼ ì‹ë‹¨ì„ ì œê³µí•©ë‹ˆë‹¤. ë²Œí¬ì—…, ë¦°ë²Œí¬ì—…, ì»·íŒ…, ìœ ì§€ ëª©ì ë³„ ë§ì¶¤ ì‹ë‹¨ ê³„ì‚°ê¸°"
    />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
    <style>
      :root {
        --primary-red: #dc2626;
        --dark-bg: #1a1a1a;
        --card-bg: #2d2d2d;
        --text-light: #f8f9fa;
        --border-color: #404040;
      }
      body {
        background: linear-gradient(135deg, var(--dark-bg) 0%, #0f0f0f 100%);
        color: var(--text-light);
        font-family: "Arial", sans-serif;
        min-height: 100vh;
      }
      .navbar {
        background: rgba(26, 26, 26, 0.95) !important;
        backdrop-filter: blur(10px);
        border-bottom: 1px solid var(--border-color);
      }
      .brand-logo {
        font-size: 1.8rem;
        font-weight: bold;
        color: var(--primary-red) !important;
        text-shadow: 0 0 10px rgba(220, 38, 38, 0.3);
      }
      .hero-section {padding: 80px 0; text-align: center;}
      .hero-title {
        font-size: 3.5rem;
        font-weight: 900;
        margin-bottom: 1rem;
        background: linear-gradient(45deg, var(--primary-red), #ff4d4d);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      .hero-subtitle {font-size: 1.2rem; color: #cccccc; margin-bottom: 2rem;}
      .input-card {
        background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 15px;
        padding: 2rem; margin-bottom: 2rem; box-shadow: 0 10px 30px rgba(0,0,0,0.3);}
      .form-control, .form-select {
        background: #1a1a1a; border: 2px solid var(--border-color); color: var(--text-light);
        border-radius: 10px; padding: 12px 16px;
      }
      .form-control:focus, .form-select:focus {
        background: #1a1a1a; border-color: var(--primary-red); color: var(--text-light);
        box-shadow: 0 0 0 0.25rem rgba(220,38,38,0.25);}
      .btn-primary {
        background: linear-gradient(45deg, var(--primary-red), #ff4d4d);
        border: none; padding: 12px 30px; border-radius: 25px; font-weight: bold;
        text-transform: uppercase; letter-spacing: 1px; transition: all 0.3s ease;
      }
      .btn-primary:hover {
        transform: translateY(-2px); box-shadow: 0 10px 25px rgba(220,38,38,0.4);
        background: linear-gradient(45deg, #b91c1c, var(--primary-red));
      }
      .result-card {
        background: linear-gradient(135deg, var(--primary-red), #b91c1c);
        border-radius: 20px; padding: 3rem 2rem; text-align: center; margin: 2rem 0;
        box-shadow: 0 15px 35px rgba(220,38,38,0.3); display: none;
      }
      .protein-amount {
        font-size: 4rem; font-weight: 900; color: white;
        text-shadow: 0 0 20px rgba(255,255,255,0.5); margin-bottom: 0.5rem;
      }
      .protein-label {
        font-size: 1.2rem; color: rgba(255,255,255,0.9); text-transform: uppercase;
        letter-spacing: 2px;
      }
      .meal-card {
        background: var(--card-bg); border: 1px solid var(--border-color);
        border-radius: 15px; padding: 1.5rem; margin-bottom: 1.5rem; transition: all 0.3s ease;
      }
      .meal-card:hover {
        transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,0.4); border-color: var(--primary-red);
      }
      .meal-title {color: var(--primary-red); font-weight: bold; font-size: 1.3rem; margin-bottom: 1rem;}
      .food-item {display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid var(--border-color);}
      .food-item:last-child {border-bottom: none;}
      .protein-badge {
        background: var(--primary-red); color: white; padding: 0.25rem 0.5rem;
        border-radius: 15px; font-size: 0.8rem; font-weight: bold;
      }
      .section-title {
        font-size: 2.5rem; font-weight: bold; text-align: center;
        margin: 4rem 0 2rem 0; color: var(--primary-red);}
      .loading {display: none; text-align: center; color: var(--primary-red);}
      .language-toggle {position: fixed; top: 20px; right: 20px; z-index: 1000;}
      #mainProteinCard {
        background: linear-gradient(135deg, var(--primary-red), #ff4d4d, #dc2626) !important;
        border: 3px solid #fff !important; border-radius: 25px !important; padding: 3rem 2rem !important; margin-top: 2rem;
        box-shadow: 0 20px 50px rgba(220,38,38,0.6), 0 0 30px rgba(220,38,38,0.3); transition: all 0.4s ease;
        cursor: pointer; position: relative; overflow: hidden;
      }
      #mainProteinCard .protein-amount {
        color: #fff !important; text-shadow: 0 0 30px rgba(255,255,255,0.8), 0 0 60px rgba(255,255,255,0.4);
        font-size: 5rem !important; font-weight: 900 !important; animation: pulse 2s infinite;
      }
      #mainProteinCard .protein-label {
        color: rgba(255,255,255,0.95) !important; font-weight: 900 !important; letter-spacing: 3px !important;
        font-size: 1.4rem !important; text-transform: uppercase; text-shadow: 0 2px 10px rgba(0,0,0,0.3);
      }
      @keyframes pulse {0%,100% {transform: scale(1);} 50% {transform: scale(1.05);}}
      /* preference-section, btn-capture, shopping-list, êµ¬ë… ë“± ìŠ¤íƒ€ì¼ë„ ë™ì¼í•˜ê²Œ ì¶”ê°€ */
    </style>
  </head>
  <body>
    <!-- Language Toggle -->
    <div class="language-toggle">
      <button class="btn btn-outline-light btn-sm" onclick="switchLanguage()">
        <i class="fas fa-globe"></i> EN
      </button>
    </div>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
      <div class="container">
        <a class="navbar-brand brand-logo" href="#"><i class="fas fa-dumbbell"></i> mealStack</a>
      </div>
    </nav>
    <!-- Hero Section -->
    <section class="hero-section">
      <div class="container">
        <h1 class="hero-title">ë§ì¶¤í˜• ë‹¨ë°±ì§ˆ ì‹ë‹¨ ê³„ì‚°í•˜ê¸°</h1>
        <p class="hero-subtitle">
          ë‹¹ì‹ ì˜ ì²´í˜• ëª©í‘œì— ë§ëŠ” ì™„ë²½í•œ ë‹¨ë°±ì§ˆ ì„­ì·¨ëŸ‰ê³¼ ì‹ë‹¨ì„ ì œê³µí•©ë‹ˆë‹¤
        </p>
      </div>
    </section>
    <!-- Input Section -->
    <section class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="input-card">
            <h3 class="text-center mb-4">
              <i class="fas fa-calculator text-danger"></i> ê³„ì‚° ì‹œì‘í•˜ê¸°
            </h3>
            <form id="proteinForm">
              <div class="row">
                <div class="col-md-4 mb-3">
                  <label class="form-label">ëª¸ë¬´ê²Œ (kg)</label>
                  <input type="number" class="form-control" id="weight" min="40" max="150" placeholder="70" required />
                </div>
                <div class="col-md-4 mb-3">
                  <label class="form-label">ì²´í˜• ëª©í‘œ</label>
                  <select class="form-select" id="goal" required>
                    <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                    <option value="bulkup">ë²Œí¬ì—… (ê·¼ìœ¡ ì¦ê°€)</option>
                    <option value="lean_bulkup">ë¦°ë²Œí¬ì—… (ê¹”ë”í•œ ì¦ëŸ‰)</option>
                    <option value="cutting">ì»·íŒ… (ì²´ì§€ë°© ê°ì†Œ)</option>
                    <option value="maintain">ìœ ì§€ (í˜„ìƒ ìœ ì§€)</option>
                  </select>
                </div>
                <div class="col-md-4 mb-3">
                  <label class="form-label">ìš´ë™ íšŸìˆ˜</label>
                  <select class="form-select" id="activity" required>
                    <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                    <option value="low">ë‚®ìŒ (ì£¼ 3íšŒ ì´í•˜)</option>
                    <option value="moderate">ë³´í†µ (ì£¼ 4-5íšŒ)</option>
                    <option value="high">ë†’ìŒ (ì£¼ 6íšŒ ì´ìƒ)</option>
                  </select>
                </div>
              </div>
              <div class="preference-section">
                <h5 class="mb-3 text-center">
                  ì„ í˜¸í•˜ëŠ” ì‹í’ˆ ì¢…ë¥˜
                  <small class="text-muted d-block">(ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥)</small>
                </h5>
                <div class="d-flex flex-wrap justify-content-center gap-2">
                  <div class="preference-checkbox">
                    <input type="checkbox" id="meat" value="meat" checked />
                    <label for="meat"><i class="fas fa-drumstick-bite"></i> ìœ¡ë¥˜</label>
                  </div>
                  <div class="preference-checkbox">
                    <input type="checkbox" id="seafood" value="seafood" checked />
                    <label for="seafood"><i class="fas fa-fish"></i> ì–´ë¥˜/í•´ì‚°ë¬¼</label>
                  </div>
                  <div class="preference-checkbox">
                    <input type="checkbox" id="plant" value="plant" checked />
                    <label for="plant"><i class="fas fa-leaf"></i> ì‹ë¬¼ì„±</label>
                  </div>
                </div>
              </div>
              <div class="text-center">
                <button type="submit" class="btn btn-primary btn-lg">
                  <i class="fas fa-bolt"></i> ë‹¨ë°±ì§ˆ ì–‘ ê³„ì‚°í•˜ê¸°
                </button>
              </div>
            </form>
          </div>
          <!-- ë©”ì¸ ë‹¨ë°±ì§ˆ ì¹´ë“œ -->
          <div id="mainProteinCard" class="result-card" style="display: none; margin-top: 1.5rem">
            <div class="protein-amount" id="mainProteinAmount">0</div>
            <div class="protein-label">ì¼ì¼ ê¶Œì¥ ë‹¨ë°±ì§ˆ</div>
          </div>
          <!-- ê²°ê³¼ ìº¡ì²˜ ë²„íŠ¼ -->
          <div class="capture-section" id="captureSection" style="display: none">
            <button class="btn btn-capture" onclick="captureResult()">
              <i class="fas fa-camera"></i> ğŸ“‹ ì‹ë‹¨í‘œ ì´ë¯¸ì§€ë¡œ ì €ì¥
            </button>
            <button class="btn btn-capture" onclick="shareResult()">
              <i class="fas fa-share"></i> ê²°ê³¼ ê³µìœ í•˜ê¸°
            </button>
          </div>
          <!-- ì˜¤ëŠ˜ì˜ ì¶”ì²œ ì‹ì¬ë£Œ ìš”ì•½ ë¦¬ìŠ¤íŠ¸ -->
          <div id="ingredientSummary" style="display: none"></div>
        </div>
      </div>
    </section>
    <!-- Loading -->
    <div class="container">
      <div class="loading" id="loading">
        <i class="fas fa-spinner fa-spin fa-3x text-danger"></i>
        <p class="mt-3">ìµœì ì˜ ì‹ë‹¨ì„ ê³„ì‚° ì¤‘ì…ë‹ˆë‹¤...</p>
      </div>
    </div>
    <!-- Result Section -->
    <section class="container">
      <div id="resultSection" style="display: none">
        <div class="result-card">
          <div class="protein-amount" id="proteinAmount">0</div>
          <div class="protein-label">ì¼ì¼ ê¶Œì¥ ë‹¨ë°±ì§ˆ</div>
          <p class="mt-3 mb-0" id="goalDescription"></p>
        </div>
        <div class="row">
          <div class="col-12">
            <div class="input-card"
              style="border: 2px solid var(--primary-red); background: linear-gradient(135deg,var(--card-bg),rgba(220,38,38,0.1));">
              <h5 style="text-align: center; color: var(--primary-red); font-size: 1.5rem; margin-bottom: 1.5rem;">
                <i class="fas fa-chart-pie"></i> ì˜ì–‘ì†Œ ë¶„ë°°
              </h5>
              <div id="nutritionBreakdown" style="text-align: center"></div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Meal Plans Section -->
    <section class="container" id="mealPlansSection" style="display: none">
      <h2 class="section-title"><i class="fas fa-utensils"></i> ì¶”ì²œ ì‹ë‹¨</h2>
      <div id="mealPlans"></div>
    </section>
    <!-- Subscription Section -->
    <section class="container" id="subscriptionSection">
      <div class="subscription-card">
        <h2 class="subscription-title"><i class="fas fa-paper-plane text-danger"></i> mealStack ìì²´ ì‹ë‹¨ íŒ¨í‚¤ì§€ ì˜ˆì•½ ì•ˆë‚´</h2>
        <p class="subscription-subtitle">ì£¼ 7~8ë§Œì›ì˜ í•˜ë£¨ 3-4ë¼ì˜ ìì²´ ë²Œí¬ì—… ì‹ë‹¨ íŒ¨í‚¤ì§€ë¥¼ ëŸ°ì¹­í•œë‹¤ë©´ ê´€ì‹¬ ìˆìœ¼ì‹¤ê¹Œìš”?</p>
        <div class="row justify-content-center">
          <div class="col-lg-7">
            <form id="subscriptionForm">
              <div class="input-group mb-3">
                <input type="email" class="form-control" id="emailInput" placeholder="your-email@example.com" required />
                <button class="btn btn-primary" type="submit" id="submitButton">
                  <i class="fas fa-bell"></i> ì˜ˆì•½ ì•ˆë‚´ ë°›ì•„ë³´ê¸°
                </button>
              </div>
            </form>
            <div id="subscriptionSuccessMessage" style="display:none;">
              <i class="fas fa-check-circle"></i> ì˜ˆì•½ ëª…ë‹¨ì— ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤! ëŸ°ì¹­ ì‹œ ê°€ì¥ ë¨¼ì € ì•Œë ¤ë“œë¦´ê²Œìš”.
            </div>
          </div>
        </div>
        <hr class="my-4" style="border-color: var(--border-color)" />
        <p class="subscription-subtitle">ë˜ëŠ” SNS ì±„ë„ì„ íŒ”ë¡œìš°í•˜ê³  ì†Œì‹ì„ ë°›ì•„ë³´ì„¸ìš”!</p>
        <div class="sns-buttons">
          <a href="#" class="btn" aria-label="KakaoTalk Channel"><i class="fas fa-comment"></i></a>
          <a href="#" class="btn" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
          <a href="#" class="btn" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
        </div>
      </div>
    </section>
    <!-- Footer -->
    <footer class="text-center py-5 mt-5" style="border-top: 1px solid var(--border-color)">
      <div class="container">
        <p class="text-muted">Â© 2025 mealStack. ê±´ê°•í•œ ë‹¨ë°±ì§ˆ ë¼ì´í”„ë¥¼ ì‹œì‘í•˜ì„¸ìš”.</p>
      </div>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // ---- ì‹ë‹¨ ë°ì´í„°, í•¨ìˆ˜, ëª¨ë“  ì¶œë ¥ ë¡œì§, scaling í•¨ìˆ˜, ì˜ì–‘ì„±ë¶„ ë³´ì • ----
      // ëª¨ë“  JS ì½”ë“œëŠ” ì´ì „ ë‹µë³€ê³¼ ë™ì¼í•˜ë©°, "scaleBaseMeals", "adjustMealsToTargetCalories"ëŠ” ì˜¤ì°¨Â±5% ë°˜ë³µë³´ì •ë¨.
      // (ë„ˆë¬´ ê¸¸ì–´ì„œ ë¬¸ììˆ˜ ì œí•œìƒ ì—¬ê¸°ì„œ ë°”ë¡œ ì œê³µ ëª»í•¨, ë‹¤ìŒ ë©”ì‹œì§€ë¡œ 100% ë¶„í• ë¡œ ì´ì–´ì„œ ì œê³µ)

      // ğŸ‘‰ 'ë‹¤ìŒ ë©”ì‹œì§€ì—ì„œ ì „ì²´ JS ì½”ë“œ(ì‹ë‹¨ ë°ì´í„°, ì˜ì–‘ì†Œ ê³„ì‚°, ë³´ì •, ìº¡ì²˜, í´ë¦½ë³´ë“œ, ì˜ˆì•½ ë“±)'ë¥¼ 100% ì„¸ë¶€ê¹Œì§€ ì´ì–´ì„œ ë³´ë‚´ë“œë¦½ë‹ˆë‹¤!
    </script>
    
  </body>
</html>
